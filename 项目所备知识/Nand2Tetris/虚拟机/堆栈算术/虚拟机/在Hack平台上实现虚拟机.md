
![](../../../../../img/Pasted%20image%2020250925194831.png)
建议每翻译一个command都写一条注释，如上图所示。

若要实现一个VM translator，我们需要对两种语言都很熟悉：
- 源语言（虚拟机语言，包含四类指令：算数/逻辑命令、内存访问命令、分支命令、函数命令）
- 目标语言（Hack汇编语言）

除了熟悉语言本身，还要考虑一个问题：在实际实现时，虚拟机里用到的数据结构（比如栈、各种内存段）应该放在 Hack 计算机的哪一块内存里？这些高层的 VM 指令要怎么一步步变成 Hack 汇编指令？

在本课程的项目七，只要求实现前两类：算数/逻辑命令、内存访问命令。
等到项目八才会加上其他命令，把整个VM translator补完整。

![](../../../../../img/Pasted%20image%2020250925194651.png)

![](../../../../../img/Pasted%20image%2020250925194713.png)


本单元我们将实现VM translator的部分功能，以Java为例，将实现下图中的三个类：`Parser`、`CodeWriter`、`Main`。

![](../../../../../img/Pasted%20image%2020250925200633.png)

接下来是`Parser`和`CodeWriter`的API：

![](../../../../../img/Pasted%20image%2020250925203709.png)

![](../../../../../img/Pasted%20image%2020250925203740.png)


![](../../../../../img/Pasted%20image%2020250925203551.png)