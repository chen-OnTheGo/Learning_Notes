
## 异步更新

首先我们要知道的是：**Vue 的数据修改是同步的，但 DOM 更新是异步的。** 同步指的是代码执行到哪，数据就改到哪。而DOM异步更新是指 **Vue 不会立即修改DOM，而是等一批数据修改完成后，再一起更新 DOM** 。


## 例子

举个例子：

假如我们渲染一个编辑页面：
![](../../img/Pasted%20image%2020250309191941.png)

当我们点击编辑按钮时，会出现表单：
![](../../img/Pasted%20image%2020250309192020.png)

要求：点击编辑按钮后出现表单元素并立即获取焦点。

若我们依次写下：
```
this.isShowEdit = true;
this.$refs.inp.focus();
```

这样是无法立即获取焦点，就是因为 **DOM 更新是异步的** ，当`this.isShowEdit=true` 这句指令执行完时，并没有立即更新`DOM元素` ，
所以在终端里可以看到：`this.$refs.inp` 是 `undefined` 的，也就无法获取焦点。


若想要***在DOM 更新完成后做某件事***，就用 `$nextTick`。

用法：
```
this.$nextTick(() => {
	//业务逻辑
})
```



以上面的例子为例，我们就可以写成：
```
this.$nextTick(() => {
	this.$refs.inp.focus();
})
```

这样就能成功在DOM更新后立刻获取焦点了。