
## 概念

即带有`v-前缀`的特殊属性。

### v-html

作用：*动态解析标签*。

```
<script>
    const app = new Vue({
     //指定vue管理的是哪个盒子
      el: "#app",
      //提供数据
      data: {
        msg: 
          '<a href="http://ww.itheima.com">前端</a>'
      }
    })
  </script>
```

若我们将`msg`中的内容换做一个标签，用插值表达式只会把它当作字符串渲染在网页上，无法解析其内容。

若想要解析，则需要用到`v-html`指令：

```
<div v-html="msg"></div>
```

这样，`msg`的内容不再被当作字符串，而是以标签的形式渲染在页面中了。



## 条件渲染

### v-if

该指令用于条件性渲染一块内容，当该指令的表达式返回真值时才被渲染。

```
<h1 v-if="awesome">Vue is awesome!</h1>
```


### v-else

一个 `v-else` 元素必须跟在一个 `v-if` 或者 `v-else-if` 元素后面，否则它将不会被识别。
其作用也可想而知：与`if-else`语句的作用大同小异，当`v-if`的表达式的返回值为假时，才渲染`v-else`中的内容。

以下是官方给的例子：
```
<script setup>

import { ref } from 'vue'


const awesome = ref(true)
</script>

<template>
  <button @click="awesome = !awesome">toggle</button>
  <h1 v-if="awesome">Vue is awesome!</h1>
  <h1 v-else>Oh no 😢</h1>
</template>
```

当点击`toggle`这个按钮时，会切换`awesome`的值（表示为"真"或"假"），则其渲染在页面上的内容就会随之变化。


### v-else-if

需要与`v-if`一起使用，跟c语言中的`else-if`语句同理：

```
<div v-if="type === 'A'">
  A
</div>
<div v-else-if="type === 'B'">
  B
</div>
<div v-else-if="type === 'C'">
  C
</div>
<div v-else>
  Not A/B/C
</div>
```



### v-show

另一个可以用来按条件显示一个元素的指令是 `v-show`。其用法基本一样：

```
<h1 v-show="ok">Hello!</h1>
```

与`v-if`的不同之处在于：当表达式为“假”时，`v-if`是直接从DOM中删除该元素；而`v-show` 会在 DOM 渲染中保留该元素，其实现内容的显示或隐藏是***通过改变元素的名为`display`的CSS属性***（表达式的值为真时，`display:none`）。

`v-show` 不支持在 `<template>` 元素上使用，也不能和 `v-else` 搭配使用。



### v-on

#### 作用

注册事件 （= 添加监听 + 提供处理逻辑）

#### 语法

- `v-on:事件名 = “内联语句”`（“内联语句”也就是触发事件时执行的命令）
- `v-on:事件名 = “methods中的函数名”`（适用于逻辑复杂的场景）

#### 例子1

语法1的例子

```
<body>
  <div id="app">
    <button v-on:click="msg++">+</button>
    {{ msg }}
    <button @click="msg--">-</button>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.16/dist/vue.js"></script>

  <script>
    const app = new Vue({
      el: "#app",
      data: {
        msg: "10"
      }
    })
  </script>
</body>
```

`v-on:click="msg++"`就是运用的这个语法，同时还能改变事件内型，例如：将`click`改成`mouseenter`表示划入按钮时执行`msg++`。

为了代码更加简洁方便，也可以将`v-on:`这个部分用`@`代替，也就是例子中的`@click="msg--"`。（
现在一般都是用`@`来表示）


#### 例子2

语法2的例子

```
<body>
  <div id="app">
    <button @click="fn">隐藏</button>
    <h1 v-show="isShow">前端</h1>
  </div>
  <!-- 引入开发版本包，包含完整的注释和警告-->
  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.16/dist/vue.js"></script>

  <script>
    const app = new Vue({
      el: "#app",
      data: {
        isShow: true
      },
      //提供处理逻辑函数
      methods: {
        fn(){
          this.isShow = !this.isShow;
        }
      }
    })
  </script>
</body>
```

这里的`methods`中的`isShow`是全局变量，而`data`中的则不是，所以如果直接在`methods`里使用`isShow`这个变量，会显示变量未被定义。但由于`isShow`是实例`app`的一个属性，所以我们可以通过`app`的属性这种方式来处理`isShow`的值，即`app.isShow = !app.isShow`。

而`methods`函数内的`this`指向`Vue实例`，隐藏也可以写作：`this.isShow`，如例子中展示的。


也可以调用传参：

![](../../img/Pasted%20image%2020250219183042.png)



### v-bind

#### 作用

动态地设置html的**标签属性**（src、url、title......）

#### 语法

`v-bind: 属性名="表达式"`

简写形式：
`:属性名="表达式"`

#### 例子

![](../../img/Pasted%20image%2020250219224124.png)

再详细说一下`v-bind`对于样式控制的增强：

- ***操作 `class`***
- ***操作 `style`***

##### 1. 操作class

语法： `:class="对象/数组"`

1. **对象**
e.g: 
```
<div class="box" :class="{ 类名1: 布尔值, 类名2: 布尔值 }"></div>
```
若布尔值为`true`，则有这个类的作用，否则没有这个类的作用。

适用场景：一个类名，来回切换。

1. **数组**
e.g:
```
<div class="box" :class="[ 类名1, 类名2, 类名3 ]"></div>
```
数组中的所有类都会添加到盒子上，本质上是*一个class列表*。

适用场景：批量添加或删除类。


##### 操作style

语法： `:style= "样式对象"`

e.g: `<div class="box" :style="{ CSS属性名1: CSS属性值, CSS属性名2: CSS属性值 }"`

注意：`js的样式对象`中的属性名不能带 `-` ，例如：`style` 中的 `background-color`应写成`backgroundColor` 或者 `"background-color"`。

例子：
![](../../img/Pasted%20image%2020250221220803.png)



## 列表渲染


### v-for

作用：基于数据循环，多次渲染某个元素。

#### 语法

```
v-for="(item, index) in list"
```

也可以省略`index`，写作：

```
v-for="item in list"
```

#### 例子

```
<body>
  <div id="app">
    <ul>
      <li v-for="(item, index) in list">
        {{ item }} -- {{ index }}
      </li>
  </ul>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.16/dist/vue.js"></script>

  <script>
    const app = new Vue({
      el: "#app",
      data: {
        list: [
          "apple",
          "watermelon",
          "pear"
        ]
      }
    })
  </script>
</body>
```

渲染效果：

![](../../img/Pasted%20image%2020250220000039.png)


#### key

##### 作用

给元素添加的唯一标识，便于Vue进行列表项的正确排序使用。

##### 注意

1.`key`的值只能是 **字符串** 或 **数字类型**。
2.`key`的值必须具有 **唯一性**。
3.推荐使用`id`作为`key`（唯一）， 不推荐使用`index`，因为会变化、不对应。

例子：

```
<body>
  <div id="app">
    <ul>
    <li v-for="item in booksList" :key="item.id">
      <span>{{ item.name }}</span>
      <span>{{ item.author }}</span>
      <button @click="del(item.id)">删除</button>
    </li>
  </ul>
  </div>

  <!-- 引入开发版本包，包含完整的注释和警告-->
  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.16/dist/vue.js"></script>


  <script>
    const app = new Vue({
      el: "#app",
      data: {
        booksList: [
          {id: 1, name: "《one》", author: "lc"},
          {id: 2, name: "《one1》", author: "lc1"}, 
          {id: 3, name: "《one2》", author: "lc2"}, 
          {id: 4, name: "《one3》", author: "lc3"}
        ]
      },
      methods: {
        del(id){
          this.booksList = this.booksList.filter(item => item.id !== id)
        }
      }
    })
  </script>
</body>
```

这是一个用`v-for`完成的书单可删除的案例，可以注意到：
```
<li v-for="item in booksList" :key="item.id">
```
这个里面的`:key="item.id`看似不会影响结果，实则不然。

当我们给`id`为1的书加上CSS属性：`background = 'pink'`。
![](../../img/Pasted%20image%2020250220192108.png)

若我们删除`id`为1 的书，按理来说显示结果应该为：
![](../../img/Pasted%20image%2020250220192124.png)

但是如果我们没有加上`key`这个语句，删除后显示的效果则是:
![](../../img/Pasted%20image%2020250220192259.png)


Vue 默认按照“**就地更新**”的策略来更新通过 `v-for` 渲染的元素列表。当数据项的顺序改变时，Vue 不会随之移动 DOM 元素的顺序，而是就地更新每个元素，确保它们在原本指定的索引位置上渲染。

也就是说，例子中，当我们按下`lc1`的删除键时，Vue并不知道具体删除的是哪个元素，只知道少了一个元素，其他内容不变，再将`booksList`中的内容渲染到网页上，而此时的`booksList`中第一项已被删除，因此出现这种现象。（主要是改变了`booksList`中的内容，Vue只知道改变了，不知道哪里改变了）。

若添加了`:key="item.id"`，Vue 就可以通过 `key` 来精确区分每一项的身份，正确地识别每个项，避免错误复用元素，提升渲染性能和准确性。



## 表单输入绑定

### v-model

在前端处理表单时，我们常常需要将表单输入框的内容同步给 JavaScript 中相应的变量。手动连接值绑定和更改事件监听器可能会很麻烦，而`v-model` 指令帮我们简化了这一步骤。

#### 作用

作用于 **表单元素**，实现双向数据绑定。可以快速 **获取** 或 **设置**(修改) 表单元素内容。

- 数据变化时，视图自动更新。
- 视图变化时，数据自动更新。

同时，它会根据控件类型自动选取正确的方法来更新元素。

![](../../img/Pasted%20image%2020250221222806.png)


#### 语法

`v-model='变量'`

#### 例子

![](../../img/Pasted%20image%2020250220200301.png)

便于实现登录时输入内容在网页上的呈现以及提取出用户输入的信息并加以判断。




以上都行一些内置指令，除了内置指令，我们还可以[自定义指令](自定义指令.md) 。