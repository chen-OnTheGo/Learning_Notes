
当我们打印响应后的xhr对象时，可以看到：

![](../../img/Pasted%20image%2020241201165127.png)

其中包含了两个属性：`readyState`和`status`。



### `readyState`表示当前请求的状态——

- 为`0`，表示请求未初始化（**UNSENT**）。e.g: `XMLHttpRequest` 对象已创建，但 `open()` 方法尚未被调用。

- 为`1`，表示请求已初始化（**OPENED**）。e.g: `open()` 方法已调用，但尚未发送请求。此时可以设置请求头（如 `setRequestHeader()`），或者处理请求的其他配置。

- 为`2`，表示请求已发送，正在接收响应头（**HEADERS_RECEIVED**）。e.g: 发送请求后，浏览器开始接收响应头。此时可以通过 `getResponseHeader()` 或 `getAllResponseHeaders()` 获取响应头信息。

- 为`3`，表示正在接收响应体（响应体部分已收到）（**LOADING**）。e.g: 服务器正在发送响应体的内容，但响应体并未完全接收完成。可通过 `responseText` 或 `response` 获取部分响应数据。

- 为`4`，表示请求已完成，响应体已完全接收（**DONE**）。e.g: 请求已经完成，响应体已完全接收。此时，`status` 可以用于判断请求是否成功，`responseText` 或 `response` 包含了完整的响应数据。


***通过 `readyState`，可以跟踪请求的进度，以便在适当的时候进行处理。***




### `status`表示 HTTP 请求的响应状态码——

##### 常见的 HTTP 状态码及其含义：

1. **2xx 类状态码（成功）**：
    - `200 OK`：请求成功，服务器返回了请求的内容。
    - `201 Created`：请求成功，服务器创建了新的资源。
    - `204 No Content`：请求成功，但没有返回任何内容。
    
1. **3xx 类状态码（重定向）**：
    - `301 Moved Permanently`：请求的资源已被永久移动到新位置。
    - `302 Found`：请求的资源临时移动到新位置。
    - `304 Not Modified`：资源未被修改，可以使用缓存的版本。
    
1. **4xx 类状态码（客户端错误）**：
    - `400 Bad Request`：请求有语法错误，服务器无法理解。
    - `401 Unauthorized`：请求未经授权，用户需要登录。
    - `403 Forbidden`：服务器理解请求，但拒绝处理。
    - `404 Not Found`：请求的资源不存在。
    
1. **5xx 类状态码（服务器错误）**：
    - `500 Internal Server Error`：服务器遇到错误，无法完成请求。
    - `502 Bad Gateway`：服务器作为网关或代理时，收到无效的响应。
    - `503 Service Unavailable`：服务器暂时不可用，通常是因为过载或维护。


***`status`反映了服务器对请求的处理结果，用于判断请求是否成功或发生了错误。`status` 的值是一个数字，通常与 HTTP 响应状态码对应。***


因此，若要判断XHR是否成功响应，可以通过判断 “`readyState`的值是否为`4` && `status`的值大于等于200且小于300”来判断，**或者也可以直接通过 status的值是否大于等于200且小于300  来进行判断。**